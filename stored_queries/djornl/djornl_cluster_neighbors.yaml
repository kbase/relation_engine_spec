# Fetch the neighbors of all vertices in a certain cluster
name: djornl_cluster_neighbors
params:
  type: object
  required: [cluster_name, cluster_id]
  properties:
    cluster_name:
      type: string
      enum: [cluster_I2, cluster_I4, cluster_I6]
    cluster_id:
      type: string
      examples: [Cluster1, Cluster2]
    distance:
      type: integer
      title: Traversal Distance
      description: How many hops to find neighbors and neighbors-of-neighbors
      default: 1
      minimum: 1
      maximum: 100
query: |
  FOR gene IN djornl_gene
    FILTER gene[@cluster_name] = @cluster_id
    LET neighbors = (
      FOR neighbor IN 1..@distance ANY gene djornl_edge
        OPTIONS {bfs: true, uniqueVertices: "global"}
        RETURN neighbor
    )
    RETURN {gene, neighbors}
